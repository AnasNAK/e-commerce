!function(a){woodmartThemeModule.singleProdReviewsLike=function(){a("#reviews").on("click",".wd-review-likes .wd-like, .wd-review-likes .wd-dislike",function(){var e=a("body").hasClass("logged-in"),i=a(".whb-main-header .wd-header-my-account"),i=0<i.length&&i.hasClass("login-side-opener");let s,d=a(this),o=d.closest(".wd-review-likes");var n=d.closest(".comment_container").attr("id"),n=parseInt(n.substring(n.indexOf("-")+1));!e&&i?a(".login-side-opener").trigger("click"):e?d.hasClass("wd-active")||(d.siblings().removeClass("wd-active"),d.addClass("wd-active"),d.hasClass("wd-like")?s="like":d.hasClass("wd-dislike")&&(s="dislike"),a.ajax({url:woodmart_settings.ajaxurl,method:"POST",data:{action:"woodmart_comments_likes",comment_id:n,vote:s},beforeSend:function(){o.addClass("wd-adding")},complete:function(){o.removeClass("wd-adding")},success:function(e){var i=d.closest(".wd-review-likes");e.hasOwnProperty("likes")&&i.find(".wd-like span").text(e.likes),e.hasOwnProperty("dislikes")&&i.find(".wd-dislike span").text(e.dislikes)},error:function(e){console.error(e)}})):window.location.href=woodmart_settings.myaccount_page})},a(document).ready(function(){woodmartThemeModule.singleProdReviewsLike()})}(jQuery);